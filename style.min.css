    <style>
        /* --- Global Styles inspired by odin.fun --- */
        body {
            background-color: #121212; /* Very dark background */
            color: #e0e0e0; /* Light grey text */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; /* Common system font stack */
            margin: 0;
            padding: 0;
            font-size: 16px;
            line-height: 1.5;
        }

        /* --- Main Container --- */
        .main-container {
            max-width: 1200px;
            margin: 20px auto; /* Center container with some margin */
            padding: 15px 25px;
            background-color: #1a1a1a; /* Slightly lighter dark bg for container */
            border-radius: 8px;
            border: 1px solid #2c2c2c; /* Subtle border */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        /* --- Section Styling --- */
        .generator-section {
            background-color: #212121; /* Slightly lighter again for sections */
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 6px;
            border: 1px solid #333;
        }

        h2, h3 {
            color: #ffffff;
            margin-top: 0;
            margin-bottom: 15px;
            font-weight: 600;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
        }

        h2 { font-size: 1.6em; }
        h3 { font-size: 1.3em; }

        strong {
            color: #bdbdbd; /* Lighter grey for labels */
            display: block;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        /* --- Token Selection Area --- */
        #random-token-display {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 10px;
            padding-bottom: 15px; /* Space below random tokens */
        }

        #random-token-display img {
            width: 75px;
            height: 75px;
            object-fit: cover;
            cursor: pointer;
            border: 2px solid #444; /* Darker border */
            border-radius: 50%; /* Circular avatars */
            transition: border-color 0.2s ease-in-out, transform 0.2s ease-in-out;
        }

        #random-token-display img:hover {
            border-color: #007bff; /* Blue accent on hover */
            transform: scale(1.05);
        }

        #random-token-display img.selected-random-token { /* Style for JS to add if needed */
             border-color: #007bff;
             box-shadow: 0 0 8px rgba(0, 123, 255, 0.6);
        }

        /* Style the dropdown select */
        select#token-select {
            width: 100%; /* Full width within its container */
            max-width: 300px; /* Max width */
            padding: 10px 15px;
            background-color: #2c2c2c; /* Dark input bg */
            color: #e0e0e0;
            border: 1px solid #444;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            appearance: none; /* Remove default arrow */
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23CCCCCC%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'); /* Custom arrow */
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 12px auto;
        }
         select#token-select:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.3);
         }


        /* --- Scene Selection Area --- */
        #template-gallery {
            display: flex;
            gap: 12px;
            overflow-x: auto; /* Horizontal scroll */
            padding: 15px;
            background-color: #1a1a1a; /* Darker bg for scroll area */
            border-radius: 5px;
            border: 1px solid #333;
            min-height: 120px; /* Ensure it has some height */
            align-items: center; /* Vertically align thumbnails */
        }
         /* Scrollbar styling (optional, webkit browsers) */
        #template-gallery::-webkit-scrollbar { height: 8px; }
        #template-gallery::-webkit-scrollbar-track { background: #2c2c2c; border-radius: 4px; }
        #template-gallery::-webkit-scrollbar-thumb { background: #555; border-radius: 4px; }
        #template-gallery::-webkit-scrollbar-thumb:hover { background: #777; }


        #template-gallery img {
            height: 100px; /* Fixed height for consistency */
            width: auto; /* Let width adjust */
            max-width: 160px; /* Prevent huge thumbnails */
            object-fit: contain; /* Fit scene within dimensions */
            cursor: pointer;
            border: 3px solid transparent; /* Thicker border for selection */
            border-radius: 4px;
            transition: border-color 0.2s ease-in-out;
            background-color: #2c2c2c; /* BG in case image is transparent */
        }

        #template-gallery img:hover {
            border-color: #555; /* Subtle hover indication */
        }

        #template-gallery img.selected-template {
            border-color: #007bff; /* Blue border for selected */
        }

        /* --- Meme Creation Area --- */
        #meme-creation-area {
            display: flex;
            gap: 30px;
            flex-wrap: wrap; /* Allow controls to wrap below stage on small screens */
        }

        #meme-stage {
            flex: 1; /* Allow stage to take available space */
            min-width: 300px; /* Minimum width */
            aspect-ratio: 1 / 1; /* Attempt square aspect ratio */
            max-width: 600px; /* Max width */
            background-color: #2c2c2c;
            border: 1px solid #444;
            border-radius: 6px;
            position: relative; /* Crucial for absolute positioned text */
            overflow: hidden; /* Hide text overflow */
        }

        #meme-background {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: contain; /* Fit image within the stage */
        }

        #meme-controls {
            width: 280px; /* Fixed width for control panel */
            background-color: #2a2a2a;
            padding: 20px;
            border-radius: 6px;
            border: 1px solid #333;
            box-sizing: border-box;
        }

        #meme-controls h3 {
             font-size: 1.2em;
             border: none; /* Remove border for controls header */
             padding-bottom: 0;
             margin-bottom: 20px;
        }

        #meme-controls > div { /* Direct div children of controls */
            margin-bottom: 18px;
        }

        #meme-controls label {
            display: block;
            margin-bottom: 6px;
            color: #bdbdbd;
            font-size: 0.9em;
            font-weight: 500;
        }

        /* Style form elements within controls */
        #meme-controls select,
        #meme-controls input[type="number"],
        #meme-controls input[type="color"] {
            width: 100%;
            padding: 8px 10px;
            background-color: #333;
            color: #e0e0e0;
            border: 1px solid #555;
            border-radius: 4px;
            font-size: 0.95rem;
            box-sizing: border-box; /* Include padding/border in width */
        }
         #meme-controls select {
             appearance: none;
             background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23CCCCCC%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');
             background-repeat: no-repeat;
             background-position: right 10px center;
             background-size: 10px auto;
         }
        #meme-controls input[type="number"] {
             width: calc(100% - 40px); /* Adjust width to make space for 'px' */
             display: inline-block; /* Align next to label */
             vertical-align: middle;
        }
        #meme-controls span.unit { /* Style the 'px' text */
             color: #aaa;
             margin-left: 8px;
             vertical-align: middle;
             font-size: 0.9em;
        }

        #meme-controls input[type="color"] {
            padding: 2px; /* Minimal padding for color swatch */
            height: 38px; /* Match height of other inputs */
            cursor: pointer;
        }
         #meme-controls input:focus, #meme-controls select:focus {
             outline: none;
             border-color: #007bff;
             box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.3);
         }


        /* Style buttons */
        button {
            background-color: #007bff; /* Odin blue */
            color: #ffffff;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease;
            display: inline-block;
            text-align: center;
        }

        button:hover:not(:disabled) {
            background-color: #0056b3; /* Darker blue on hover */
            transform: translateY(-1px); /* Slight lift */
        }
         button:active:not(:disabled) {
             transform: translateY(0px); /* Press down */
         }

        button:disabled {
            background-color: #444;
            color: #888;
            cursor: not-allowed;
            opacity: 0.7;
        }

        #add-text-btn {
            width: 100%; /* Make Add Text button full width */
            margin-bottom: 20px; /* Space below Add Text button */
        }

        #meme-controls p.helper-text {
             font-size: 0.85em;
             color: #888;
             margin-top: 15px;
             text-align: center;
             line-height: 1.4;
        }


        /* --- Meme Text Styling --- */
        .meme-text {
            position: absolute; /* Positioned within #meme-stage */
            cursor: move;
            color: white;
            font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif; /* Classic meme font */
            font-weight: bold;
            text-transform: uppercase;
            text-align: center;
            line-height: 1.1; /* Tight line height */
            padding: 3px 6px; /* Minimal padding */
            outline: none; /* Remove default outline */
            min-width: 40px; /* Prevent tiny text boxes */
            word-wrap: break-word; /* Wrap long words if needed */
            border: 1px dashed rgba(255, 255, 255, 0.4); /* Subtle indication */
            user-select: none; /* Prevent text selection during drag */
            -webkit-user-select: none; /* Safari */
            -moz-user-select: none; /* Firefox */
            -ms-user-select: none; /* IE */
        }
         /* Use text-shadow for outline effect in editor */
         /* JS applies this based on controls */

        .meme-text.selected-text {
            border: 2px dashed #007bff; /* Blue dashed border when selected */
            user-select: text; /* Allow selection when active */
             -webkit-user-select: text;
             -moz-user-select: text;
             -ms-user-select: text;
        }

        .meme-text[contenteditable=true]:focus {
            outline: none; /* Ensure no browser focus outline */
        }

        /* --- Download Area --- */
        #download-area {
            text-align: center;
            padding-top: 10px; /* Add some space above */
        }
        #download-area h2 {
            border: none; /* Remove border */
        }
        #download-btn {
             padding: 12px 30px; /* Make download button bigger */
             font-size: 1.1rem;
        }

        /* --- Hidden Canvas --- */
        #meme-canvas {
            display: none;
        }

        /* --- Responsive Adjustments (Example) --- */
        @media (max-width: 768px) {
            .main-container {
                margin: 10px;
                padding: 10px 15px;
            }
            #meme-creation-area {
                flex-direction: column; /* Stack stage and controls */
                gap: 20px;
            }
            #meme-stage {
                 max-width: 100%; /* Allow stage to fill width */
                 aspect-ratio: unset; /* Let height be determined by content/image */
                 min-height: 300px; /* Ensure minimum height */
            }
            #meme-controls {
                width: 100%; /* Controls take full width when stacked */
                max-width: none;
            }
             h2 { font-size: 1.4em; }
             h3 { font-size: 1.2em; }
        }


    </style>